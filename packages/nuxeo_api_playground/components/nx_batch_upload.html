<link rel="import" href="nx_widget.html">
<polymer-element name="nx-batch-upload">
  <template>
    <link rel="stylesheet"  href="../semantic/elements/button.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/header.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/icon.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/image.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/input.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/label.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/elements/segment.min.css" no-shim>

    <link rel="stylesheet"  href="../semantic/collections/breadcrumb.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/collections/form.min.css" no-shim>
    <link rel="stylesheet"  href="../semantic/collections/grid.min.css" no-shim>

    <link rel="stylesheet"  href="../semantic/modules/transition.min.css" no-shim>

    <link rel="stylesheet"  href="../semantic/views/list.min.css" no-shim>

    <link rel="stylesheet"  href="../css/style.css" no-shim>

    <!-- Main page -->
    <div class="ui page grid">
      <div id="main" class="column">

        <!-- Breadcrumb -->
        <div class="ui segment">
         <div class="ui breadcrumb">
          <a class="section" on-click="{{goHome}}"><i class="ui home icon"></i></a>
          <div class="divider"> / </div>
          <a class="section" on-click="{{goRoot}}">{{title}}</a>
          </div>
        </div>

        <!-- Help -->
        <div class="ui basic segment">
          <img class="ui small left floated image" src="../images/{{icon}}">
          <p>{{description}}</p>
        </div>

        <!-- Create -->
        <h4 class="ui top attached header">
          New Batch
        </h4>
        <div class="ui form attached segment">
          <input type="text" value="{{batchId}}" required>
          <nx-widget type="bloblist" required="true" value="{{blobs}}"></nx-widget>
          <div class="ui red submit button" style="align:right" on-click="{{upload}}">Upload</div>
        </div>

        <!-- Uploads list -->
        <div class="ui animated divided selection list">
          <template repeat="{{batch in batches}}">
            <div class="item">
              <div class="content">
                <div class="header">{{batch.id}}</div>
                {{batch.filenames.length}} file(s):
                <div class="ui horizontal bulleted list">
                  <template repeat="{{filename in batch.filenames}}">
                  <div class="item">
                    {{filename}}
                  </div>
                  </template>
                </div>

              </div>
            </div>
          </template>
        </div>

      </div>
    </div>

  </template>
  <script type="application/dart" src="nx_batch_upload.dart"></script>
</polymer-element>
